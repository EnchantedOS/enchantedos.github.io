<!DOCTYPE html><html lang="en" class="h-full"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/cfc91e73f16c955c.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-44f06f1c9c15a63e.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-2cdf6f2fe35817db.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-c1c5ce7e6d2b34c4.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-0a6f12c0f5b2a7e6.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-86e445a1e316c17d.js" async=""></script><script src="/_next/static/chunks/371-9fd983c6f9223e2a.js" async=""></script><script src="/_next/static/chunks/841-15946dcd10b62610.js" async=""></script><script src="/_next/static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js" async=""></script><script src="/_next/static/chunks/536-654abe48faf78f66.js" async=""></script><script src="/_next/static/chunks/app/layout-4890250a0dcdb7a7.js" async=""></script><title>Basic Module Example - Enchanted Server Documentation</title><meta name="description" content="Learn how to create your first Enchanted module with this comprehensive example."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="flex min-h-full bg-white antialiased dark:bg-zinc-900"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="w-full"><div class="h-full lg:ml-72 xl:ml-80"><header class="contents lg:pointer-events-none lg:fixed lg:inset-0 lg:z-40 lg:flex"><div class="contents lg:pointer-events-auto lg:block lg:w-72 lg:overflow-y-auto lg:border-r lg:border-zinc-900/10 lg:px-6 lg:pb-8 lg:pt-4 xl:w-80 lg:dark:border-white/10"><div class="hidden lg:flex"><a class="font-black" aria-label="Home" href="/">Enchan<span class="pr-[6px] text-fuchsia-500">⛏</span>ed</a></div><div class="fixed inset-x-0 top-0 z-50 flex h-14 items-center justify-between gap-12 px-4 transition sm:px-6 lg:left-72 lg:z-30 lg:px-8 xl:left-80 backdrop-blur-sm lg:left-72 xl:left-80 dark:backdrop-blur bg-white/[var(--bg-opacity-light)] dark:bg-zinc-900/[var(--bg-opacity-dark)]" style="--bg-opacity-light:0.5;--bg-opacity-dark:0.2"><div class="absolute inset-x-0 top-full h-px transition bg-zinc-900/7.5 dark:bg-white/7.5"></div><div class="hidden lg:block lg:max-w-md lg:flex-auto"><button type="button" class="hidden h-8 w-full items-center gap-2 rounded-sm bg-white pl-2 pr-3 text-sm text-zinc-500 ring-1 ring-zinc-900/10 transition hover:ring-zinc-900/20 ui-not-focus-visible:outline-none lg:flex dark:bg-white/5 dark:text-zinc-400 dark:ring-inset dark:ring-white/10 dark:hover:ring-white/20"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg>Find something...<kbd class="ml-auto text-2xs text-zinc-400 dark:text-zinc-500"><kbd class="font-sans"></kbd><kbd class="font-sans">K</kbd></kbd></button><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div><div class="flex items-center gap-5 lg:hidden"><button type="button" class="flex h-6 w-6 items-center justify-center rounded-sm transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Toggle navigation"><svg viewBox="0 0 10 9" fill="none" stroke-linecap="round" aria-hidden="true" class="w-2.5 stroke-zinc-900 dark:stroke-white"><path d="M.5 1h9M.5 8h9M.5 4.5h9"></path></svg></button><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><a aria-label="Home" href="/">Enchan<span class="pr-[6px] text-fuchsia-500">⛏</span>ed</a></div><div class="flex items-center gap-5"><nav class="hidden md:block"><ul role="list" class="flex items-center gap-8"><li><a class="text-sm leading-5 text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/">Documentation</a></li></ul></nav><div class="hidden md:block md:h-5 md:w-px md:bg-zinc-900/10 md:dark:bg-white/15"></div><div class="flex gap-4"><div class="contents lg:hidden"><button type="button" class="flex h-6 w-6 items-center justify-center rounded-sm transition hover:bg-zinc-900/5 ui-not-focus-visible:outline-none lg:hidden dark:hover:bg-white/5" aria-label="Find something..."><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-zinc-900 dark:stroke-white"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg></button><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div><button type="button" class="flex h-6 w-6 items-center justify-center rounded-sm transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Toggle theme">☀<!-- -->☽</button></div><div class="hidden min-[416px]:contents"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-sm bg-zinc-900 py-1 px-3 text-white hover:bg-zinc-700 dark:bg-fuchsia-400/10 dark:text-fuchsia-400 dark:ring-1 dark:ring-inset dark:ring-fuchsia-400/20 dark:hover:bg-fuchsia-400/10 dark:hover:text-fuchsia-300 dark:hover:ring-fuchsia-300" target="_blank" href="https://cou.ai">Boot OS</a></div></div></div><nav class="hidden lg:mt-10 lg:block"><ul role="list"><li class="md:hidden"><a class="block py-1 text-sm text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/">Documentation</a></li><li class="md:hidden"><a class="block py-1 text-sm text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="#">Boot OS</a></li><li class="relative mt-6 md:mt-0"><h2 class="text-xs font-black uppercase text-zinc-900 dark:text-white">Guides</h2><div class="relative mt-3 pl-2"><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/"><span class="truncate">Introduction</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/quickstart"><span class="truncate">Quickstart</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/installation"><span class="truncate">Installation</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/architecture"><span class="truncate">Architecture</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/authentication"><span class="truncate">Authentication</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/permissions"><span class="truncate">Permissions</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/errors"><span class="truncate">Error Handling</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/development"><span class="truncate">Development</span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-black uppercase text-zinc-900 dark:text-white">Core Concepts</h2><div class="relative mt-3 pl-2"><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/modules"><span class="truncate">Modules</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/events"><span class="truncate">Events</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/commands"><span class="truncate">Commands</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/websockets"><span class="truncate">WebSockets</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/storage"><span class="truncate">Storage</span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-black uppercase text-zinc-900 dark:text-white">API Reference</h2><div class="relative mt-3 pl-2"><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/minecraft-api"><span class="truncate">Minecraft API</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/script-context"><span class="truncate">Script Context</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/decorators"><span class="truncate">Decorators</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/types"><span class="truncate">Types</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/utilities"><span class="truncate">Utilities</span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-black uppercase text-zinc-900 dark:text-white">Examples</h2><div class="relative mt-3 pl-2"><div class="absolute inset-x-0 top-0 bg-zinc-800/2.5 will-change-transform dark:bg-white/2.5" style="border-radius:2px;height:32px;top:0;opacity:0"></div><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><div class="absolute left-2 h-6 w-[3px] bg-fuchsia-500" style="top:4px;opacity:1"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a aria-current="page" class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-900 dark:text-white" href="/examples/basic-module"><span class="truncate">Basic Module</span></a><ul role="list" style="opacity:1"><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/basic-module#complete-module"><span class="truncate">Complete Module</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/basic-module#module-breakdown"><span class="truncate">Module Breakdown</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/basic-module#usage-examples"><span class="truncate">Usage Examples</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/basic-module#key-concepts-demonstrated"><span class="truncate">Key Concepts Demonstrated</span></a></li></ul></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/economy"><span class="truncate">Economy System</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/chat"><span class="truncate">Chat System</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/player-stats"><span class="truncate">Player Stats</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/examples/commands"><span class="truncate">Custom Commands</span></a></li></ul></div></li><li class="sticky bottom-0 z-10 mt-6 min-[416px]:hidden"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-sm bg-zinc-900 py-1 px-3 text-white hover:bg-zinc-700 dark:bg-fuchsia-500 dark:text-white dark:hover:bg-fuchsia-400 w-full" href="#">Sign in</a></li></ul></nav></div></header><div class="relative flex h-full flex-col px-4 pt-14 sm:px-6 lg:px-8"><main class="flex-auto"><article class="flex h-full flex-col pb-10 pt-16"><div class="flex-auto prose dark:prose-invert [html_:where(&amp;&gt;*)]:mx-auto [html_:where(&amp;&gt;*)]:max-w-2xl [html_:where(&amp;&gt;*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(&amp;&gt;*)]:lg:max-w-3xl"><h1>Basic Module Example</h1>
<p class="lead">Let&#x27;s create a basic welcome module that demonstrates core Enchanted features including events, commands, storage, and socket communication.</p>
<h2 class="scroll-mt-24" id="complete-module"><a class="group text-inherit no-underline hover:text-inherit" href="#complete-module">Complete Module</a></h2>
<p>Here&#x27;s a basic welcome module that showcases common patterns:</p>
<div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">WelcomeModule.ts</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">WelcomeMessage</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  message</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">  color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">  enabled</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">boolean</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span>
<span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">PlayerStats</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  firstJoin</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">  lastSeen</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">  visits</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">number</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Module</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">  name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;WelcomeModule&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  version</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;1.0.0&#39;</span></span>
<span><span style="color: var(--shiki-color-text)">})</span></span>
<span><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">class</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">WelcomeModule</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Utility method to get player stats</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">private</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Deno</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">Kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Promise</span><span style="color: var(--shiki-color-text)">&lt;</span><span style="color: var(--shiki-token-function)">PlayerStats</span><span style="color: var(--shiki-color-text)">&gt; {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.get</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">]);</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.value </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      firstJoin</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Date</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-function)">.toISOString</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      lastSeen</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Date</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-function)">.toISOString</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      visits</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0</span></span>
<span><span style="color: var(--shiki-color-text)">    };</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Event handler for player joins</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Event</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player_joined&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">handlePlayerJoin</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> api</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> log }</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">ScriptContext</span><span style="color: var(--shiki-color-text)">) {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)">playerName</span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> params;</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">try</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Get or create player stats</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName);</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Update stats atomically</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.atomic</span><span style="color: var(--shiki-color-text)">()</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-function)">.check</span><span style="color: var(--shiki-color-text)">({ key</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">] })</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-function)">.mutate</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">          type</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;set&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">          key</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">          value</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-keyword)">...</span><span style="color: var(--shiki-color-text)">stats</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">            lastSeen</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Date</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-function)">.toISOString</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">            visits</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.visits </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span></span>
<span><span style="color: var(--shiki-color-text)">          }</span></span>
<span><span style="color: var(--shiki-color-text)">        })</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-function)">.commit</span><span style="color: var(--shiki-color-text)">();</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Get welcome message</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">welcomeConfig</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.get</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;welcome&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;config&#39;</span><span style="color: var(--shiki-color-text)">]);</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">welcomeConfig</span><span style="color: var(--shiki-color-text)">.value </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">        message</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Welcome to the server!&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;gold&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        enabled</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></span>
<span><span style="color: var(--shiki-color-text)">      };</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.enabled) {</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-comment)">// Send different messages for new/returning players</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.visits </span><span style="color: var(--shiki-token-keyword)">===</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">) {</span></span>
<span><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">([</span></span>
<span><span style="color: var(--shiki-color-text)">            {</span></span>
<span><span style="color: var(--shiki-color-text)">              text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.message </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;\n&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">              color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.color</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">              bold</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></span>
<span><span style="color: var(--shiki-color-text)">            }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">            {</span></span>
<span><span style="color: var(--shiki-color-text)">              text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;This appears to be your first visit!&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">              color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;aqua&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">            }</span></span>
<span><span style="color: var(--shiki-color-text)">          ]));</span></span>
<span><span style="color: var(--shiki-color-text)">        } </span><span style="color: var(--shiki-token-keyword)">else</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">([</span></span>
<span><span style="color: var(--shiki-color-text)">            {</span></span>
<span><span style="color: var(--shiki-color-text)">              text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.message </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;\n&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">              color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.color</span></span>
<span><span style="color: var(--shiki-color-text)">            }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">            {</span></span>
<span><span style="color: var(--shiki-color-text)">              text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`Welcome back! Visit #</span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.visits </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">              color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;yellow&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">            }</span></span>
<span><span style="color: var(--shiki-color-text)">          ]));</span></span>
<span><span style="color: var(--shiki-color-text)">        }</span></span>
<span><span style="color: var(--shiki-color-text)">      }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`Player </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-color-text)">playerName</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)"> joined (Visit #</span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.visits </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">)`</span><span style="color: var(--shiki-color-text)">);</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    } </span><span style="color: var(--shiki-token-keyword)">catch</span><span style="color: var(--shiki-color-text)"> (error) {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`Error in handlePlayerJoin: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">error</span><span style="color: var(--shiki-color-text)">.message</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-color-text)">);</span></span>
<span><span style="color: var(--shiki-color-text)">    }</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Command to view your join stats</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Command</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;visits&#39;</span><span style="color: var(--shiki-color-text)">])</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Description</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;View your visit statistics&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Permission</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">viewVisits</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> api }</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">ScriptContext</span><span style="color: var(--shiki-color-text)">) {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)">sender</span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> params;</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">try</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> sender);</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(sender</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">([</span></span>
<span><span style="color: var(--shiki-color-text)">        { text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;=== Visit Statistics ===\n&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;gold&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> bold</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-color-text)"> }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        { text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`First Join: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Date</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.firstJoin)</span><span style="color: var(--shiki-token-function)">.toLocaleString</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">\n`</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;aqua&quot;</span><span style="color: var(--shiki-color-text)"> }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        { text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`Last Seen: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Date</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.lastSeen)</span><span style="color: var(--shiki-token-function)">.toLocaleString</span><span style="color: var(--shiki-color-text)">()</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">\n`</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;yellow&quot;</span><span style="color: var(--shiki-color-text)"> }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        { text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`Total Visits: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)">.visits</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;green&quot;</span><span style="color: var(--shiki-color-text)"> }</span></span>
<span><span style="color: var(--shiki-color-text)">      ]));</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    } </span><span style="color: var(--shiki-token-keyword)">catch</span><span style="color: var(--shiki-color-text)"> (error) {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(sender</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">        text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`Error: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">error</span><span style="color: var(--shiki-color-text)">.message</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;red&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">      }));</span></span>
<span><span style="color: var(--shiki-color-text)">    }</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Admin command to configure welcome message</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Command</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;welcome&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;config&#39;</span><span style="color: var(--shiki-color-text)">])</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Description</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Configure welcome message&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Permission</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;operator&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Argument</span><span style="color: var(--shiki-color-text)">([</span></span>
<span><span style="color: var(--shiki-color-text)">    { name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;message&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> type</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;string&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> description</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Welcome message&#39;</span><span style="color: var(--shiki-color-text)"> }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    { name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;color&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> type</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;string&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> description</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Message color&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> optional</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-color-text)"> }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    { name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;enabled&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> type</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;boolean&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> description</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Enable/disable welcome&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> optional</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-color-text)"> }</span></span>
<span><span style="color: var(--shiki-color-text)">  ])</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">configureWelcome</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> api }</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">ScriptContext</span><span style="color: var(--shiki-color-text)">) {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)">sender</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">args</span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> params;</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">try</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Get current config</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">current</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.get</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;welcome&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;config&#39;</span><span style="color: var(--shiki-color-text)">]);</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">current</span><span style="color: var(--shiki-color-text)">.value </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">        message</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Welcome to the server!&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;gold&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        enabled</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span></span>
<span><span style="color: var(--shiki-color-text)">      };</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Update config</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.set</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;welcome&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;config&#39;</span><span style="color: var(--shiki-color-text)">]</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">        message</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">args</span><span style="color: var(--shiki-color-text)">.message </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.message</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">args</span><span style="color: var(--shiki-color-text)">.color </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.color</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        enabled</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">args</span><span style="color: var(--shiki-color-text)">.enabled </span><span style="color: var(--shiki-token-keyword)">??</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">config</span><span style="color: var(--shiki-color-text)">.enabled</span></span>
<span><span style="color: var(--shiki-color-text)">      });</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(sender</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">        text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;Welcome message configuration updated!&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;green&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">      }));</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    } </span><span style="color: var(--shiki-token-keyword)">catch</span><span style="color: var(--shiki-color-text)"> (error) {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(sender</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">        text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">`Error: </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)">error</span><span style="color: var(--shiki-color-text)">.message</span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;red&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">      }));</span></span>
<span><span style="color: var(--shiki-color-text)">    }</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Socket handler to get player statistics</span></span>
<span><span style="color: var(--shiki-color-text)">  @</span><span style="color: var(--shiki-token-function)">Socket</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;get_player_stats&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">async</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">getPlayerStats</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> auth }</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">ScriptContext</span><span style="color: var(--shiki-color-text)">) {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">try</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-comment)">// Verify authentication</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-keyword)">!await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">auth</span><span style="color: var(--shiki-token-function)">.checkPermission</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-color-text)">)) {</span></span>
<span><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">          success</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">false</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">          error</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Unauthorized&#39;</span></span>
<span><span style="color: var(--shiki-color-text)">        };</span></span>
<span><span style="color: var(--shiki-color-text)">      }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> { </span><span style="color: var(--shiki-token-constant)">playerName</span><span style="color: var(--shiki-color-text)"> } </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> params;</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName);</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">        success</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        data</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> stats</span></span>
<span><span style="color: var(--shiki-color-text)">      };</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">    } </span><span style="color: var(--shiki-token-keyword)">catch</span><span style="color: var(--shiki-color-text)"> (error) {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">        success</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">false</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">        error</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">error</span><span style="color: var(--shiki-color-text)">.message</span></span>
<span><span style="color: var(--shiki-color-text)">      };</span></span>
<span><span style="color: var(--shiki-color-text)">    }</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<h2 class="scroll-mt-24" id="module-breakdown"><a class="group text-inherit no-underline hover:text-inherit" href="#module-breakdown">Module Breakdown</a></h2>
<p>Let&#x27;s examine each part of the module:</p>
<h3>Data Interfaces</h3>
<p>First, we define our data structures:</p>
<div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Interfaces</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-token-comment)">// Welcome message configuration</span></span>
<span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">WelcomeMessage</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  message</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;  </span><span style="color: var(--shiki-token-comment)">// The welcome message text</span></span>
<span><span style="color: var(--shiki-color-text)">  color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;    </span><span style="color: var(--shiki-token-comment)">// Message color</span></span>
<span><span style="color: var(--shiki-color-text)">  enabled</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">boolean</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-comment)">// Whether welcomes are enabled</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">// Player statistics</span></span>
<span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">PlayerStats</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  firstJoin</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;  </span><span style="color: var(--shiki-token-comment)">// First join timestamp</span></span>
<span><span style="color: var(--shiki-color-text)">  lastSeen</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)">;   </span><span style="color: var(--shiki-token-comment)">// Last seen timestamp</span></span>
<span><span style="color: var(--shiki-color-text)">  visits</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">number</span><span style="color: var(--shiki-color-text)">;     </span><span style="color: var(--shiki-token-comment)">// Total visits</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<h3>Event Handling</h3>
<p>The module responds to player joins:</p>
<div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Event Handler</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Event</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player_joined&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">async </span><span style="color: var(--shiki-token-function)">handlePlayerJoin</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> api</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> log }: ScriptContext) {</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Update player stats</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName);</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Send welcome message</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">api</span><span style="color: var(--shiki-token-function)">.tellraw</span><span style="color: var(--shiki-color-text)">(playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">JSON</span><span style="color: var(--shiki-token-function)">.stringify</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">    text</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;Welcome to the server!&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    color</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;gold&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">  }));</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<h3>Commands</h3>
<p>We provide player and admin commands:</p>
<button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><div class="-mb-px flex gap-4 text-xs font-medium" role="tablist" aria-orientation="horizontal"><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-fuchsia-500 text-fuchsia-400" id="headlessui-tabs-tab-:Rcovdttsqla:" role="tab" type="button" aria-selected="true" tabindex="0" data-headlessui-state="selected">Player Command</button><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-transparent text-zinc-400 hover:text-zinc-300" id="headlessui-tabs-tab-:Rkovdttsqla:" role="tab" type="button" aria-selected="false" tabindex="-1" data-headlessui-state="">Admin Command</button></div></div><div><div id="headlessui-tabs-panel-:R38vdttsqla:" role="tabpanel" tabindex="0" data-headlessui-state="selected"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Command</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;visits&#39;</span><span style="color: var(--shiki-color-text)">])</span></span>
<span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Description</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;View your visit statistics&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Permission</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">async </span><span style="color: var(--shiki-token-function)">viewVisits</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> api }: ScriptContext) {</span></span>
<span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">params</span><span style="color: var(--shiki-color-text)">.sender);</span></span>
<span><span style="color: var(--shiki-token-comment)">// Display stats to player</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><span aria-hidden="true" id="headlessui-tabs-panel-:R58vdttsqla:" role="tabpanel" tabindex="-1" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></span></div></div></div>
<h3>Storage</h3>
<p>The module uses Deno KV for persistent storage:</p>
<div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Storage Usage</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-token-comment)">// Get player stats</span></span>
<span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.get</span><span style="color: var(--shiki-color-text)">([</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">]);</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">// Update stats atomically</span></span>
<span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">kv</span><span style="color: var(--shiki-token-function)">.atomic</span><span style="color: var(--shiki-color-text)">()</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">.check</span><span style="color: var(--shiki-color-text)">({ key</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">] })</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">.mutate</span><span style="color: var(--shiki-color-text)">({</span></span>
<span><span style="color: var(--shiki-color-text)">    type</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;set&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    key</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> playerName</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;stats&#39;</span><span style="color: var(--shiki-color-text)">]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    value</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> newStats</span></span>
<span><span style="color: var(--shiki-color-text)">  })</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">.commit</span><span style="color: var(--shiki-color-text)">();</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<h3>Socket Communication</h3>
<p>We provide a WebSocket endpoint for stats:</p>
<div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Socket Handler</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-typescript"><span><span style="color: var(--shiki-color-text)">@</span><span style="color: var(--shiki-token-function)">Socket</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;get_player_stats&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span><span style="color: var(--shiki-color-text)">async </span><span style="color: var(--shiki-token-function)">getPlayerStats</span><span style="color: var(--shiki-color-text)">({ params</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> auth }: ScriptContext) {</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Verify authentication</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-keyword)">!await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">auth</span><span style="color: var(--shiki-token-function)">.checkPermission</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;player&#39;</span><span style="color: var(--shiki-color-text)">)) {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> { success</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">false</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> error</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Unauthorized&#39;</span><span style="color: var(--shiki-color-text)"> };</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Return player stats</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">stats</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">await</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.getStats</span><span style="color: var(--shiki-color-text)">(kv</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">params</span><span style="color: var(--shiki-color-text)">.playerName);</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> { success</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">true</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> data</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> stats };</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<h2 class="scroll-mt-24" id="usage-examples"><a class="group text-inherit no-underline hover:text-inherit" href="#usage-examples">Usage Examples</a></h2>
<p>Here&#x27;s how to use the module:</p>
<button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="my-6 overflow-hidden rounded-sm dark:bg-zinc-900 bg-zinc-700 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><div class="-mb-px flex gap-4 text-xs font-medium" role="tablist" aria-orientation="horizontal"><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-fuchsia-500 text-fuchsia-400" id="headlessui-tabs-tab-:Rcphdttsqla:" role="tab" type="button" aria-selected="true" tabindex="0" data-headlessui-state="selected">Player Commands</button><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-transparent text-zinc-400 hover:text-zinc-300" id="headlessui-tabs-tab-:Rkphdttsqla:" role="tab" type="button" aria-selected="false" tabindex="-1" data-headlessui-state="">Admin Commands</button><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-transparent text-zinc-400 hover:text-zinc-300" id="headlessui-tabs-tab-:Rsphdttsqla:" role="tab" type="button" aria-selected="false" tabindex="-1" data-headlessui-state="">WebSocket Usage</button></div></div><div><div id="headlessui-tabs-panel-:R39hdttsqla:" role="tabpanel" tabindex="0" data-headlessui-state="selected"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># View your visit stats</span></span>
<span><span style="color: var(--shiki-token-function)">/visits</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-sm py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-fuchsia-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><span aria-hidden="true" id="headlessui-tabs-panel-:R59hdttsqla:" role="tabpanel" tabindex="-1" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></span><span aria-hidden="true" id="headlessui-tabs-panel-:R79hdttsqla:" role="tabpanel" tabindex="-1" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></span></div></div></div>
<h2 class="scroll-mt-24" id="key-concepts-demonstrated"><a class="group text-inherit no-underline hover:text-inherit" href="#key-concepts-demonstrated">Key Concepts Demonstrated</a></h2>
<p>This basic module shows several important patterns:</p>
<ol>
<li><strong>Decorator Usage</strong></li>
</ol>
<ul>
<li><code>@Module</code> for module definition</li>
<li><code>@Event</code> for event handling</li>
<li><code>@Command</code> for commands</li>
<li><code>@Permission</code> for access control</li>
<li><code>@Socket</code> for WebSocket communication</li>
</ul>
<ol start="2">
<li><strong>Data Management</strong></li>
</ol>
<ul>
<li>Interface definitions</li>
<li>Storage operations</li>
<li>Atomic updates</li>
</ul>
<ol start="3">
<li><strong>Error Handling</strong></li>
</ol>
<ul>
<li>Try-catch blocks</li>
<li>Error responses</li>
<li>Logging</li>
</ul>
<ol start="4">
<li><strong>User Communication</strong></li>
</ol>
<ul>
<li>Chat messages</li>
<li>Command responses</li>
<li>WebSocket responses</li>
</ul>
<ol start="5">
<li><strong>Authentication</strong></li>
</ol>
<ul>
<li>Permission checking</li>
<li>Role-based access</li>
</ul>
<div class="not-prose"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition text-fuchsia-500 hover:text-fuchsia-600 dark:text-fuchsia-400 dark:hover:text-fuchsia-500" href="/examples/economy">View Economy Module Example<svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 relative top-px -mr-1"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path></svg></a></div></div><footer class="mx-auto mt-16 w-full max-w-2xl lg:max-w-5xl"><div class="relative h-8"><form class="absolute inset-0 flex items-center justify-center gap-6 md:justify-start"><p class="text-sm text-zinc-600 dark:text-zinc-400">Was this page helpful?</p><div class="group grid h-8 grid-cols-[1fr,1px,1fr] overflow-hidden rounded-sm border border-zinc-900/10 dark:border-white/10"><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="yes">Yes</button><div class="bg-zinc-900/10 dark:bg-white/10"></div><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="no">No</button></div></form></div></footer></article></main><footer class="mx-auto w-full max-w-2xl space-y-10 pb-16 lg:max-w-5xl"><div class="flex"><div class="flex flex-col items-start gap-3"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-sm bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300" aria-label="Previous: Utilities" href="/utilities"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -ml-1 rotate-180"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path></svg>Previous</a><a tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300" href="/utilities">Utilities</a></div><div class="ml-auto flex flex-col items-end gap-3"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-sm bg-zinc-100 py-1 px-3 text-zinc-900 hover:bg-zinc-200 dark:bg-zinc-800/40 dark:text-zinc-400 dark:ring-1 dark:ring-inset dark:ring-zinc-800 dark:hover:bg-zinc-800 dark:hover:text-zinc-300" aria-label="Next: Economy System" href="/examples/economy">Next<svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 -mr-1"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path></svg></a><a tabindex="-1" aria-hidden="true" class="text-base font-semibold text-zinc-900 transition hover:text-zinc-600 dark:text-white dark:hover:text-zinc-300" href="/examples/economy">Economy System</a></div></div><div class="flex flex-col items-center justify-between gap-5 border-t border-zinc-900/5 pt-8 sm:flex-row dark:border-white/5"><p class="text-xs text-zinc-600 dark:text-zinc-400">© Copyright <a href="https://cou.sh" target="_blank" class="underline font-bold underline-offset-4">Cou.sh</a> <!-- -->2024<!-- -->. All rights reserved.</p><div class="flex gap-4"></div></div></footer></div></div></div><script src="/_next/static/chunks/webpack-44f06f1c9c15a63e.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/cfc91e73f16c955c.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[7690,[],\"\"]\n5:I[5824,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"Heading\"]\n6:I[3801,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"Pre\"]\n8:I[3801,[\"250\",\"static/chunks/250"])</script><script>self.__next_f.push([1,"-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"Code\"]\nc:I[3801,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"CodeGroup\"]\n12:I[5250,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371"])</script><script>self.__next_f.push([1,"-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"\"]\n13:I[4052,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"175\",\"static/chunks/app/examples/basic-module/page-df8ef4971ddc99a3.js\"],\"Feedback\"]\n14:I[5613,[],\"\"]\n15:I[1778,[],\"\"]\n18:I[8955,[],\"\"]\n7:T13f7,"])</script><script>self.__next_f.push([1,"interface WelcomeMessage {\n  message: string;\n  color: string;\n  enabled: boolean;\n}\n\ninterface PlayerStats {\n  firstJoin: string;\n  lastSeen: string;\n  visits: number;\n}\n\n@Module({\n  name: 'WelcomeModule',\n  version: '1.0.0'\n})\nexport class WelcomeModule {\n  // Utility method to get player stats\n  private async getStats(kv: Deno.Kv, playerName: string): Promise\u003cPlayerStats\u003e {\n    const stats = await kv.get(['player', playerName, 'stats']);\n    return stats.value || {\n      firstJoin: new Date().toISOString(),\n      lastSeen: new Date().toISOString(),\n      visits: 0\n    };\n  }\n\n  // Event handler for player joins\n  @Event('player_joined')\n  async handlePlayerJoin({ params, kv, api, log }: ScriptContext) {\n    const { playerName } = params;\n\n    try {\n      // Get or create player stats\n      const stats = await this.getStats(kv, playerName);\n\n      // Update stats atomically\n      await kv.atomic()\n        .check({ key: ['player', playerName, 'stats'] })\n        .mutate({\n          type: 'set',\n          key: ['player', playerName, 'stats'],\n          value: {\n            ...stats,\n            lastSeen: new Date().toISOString(),\n            visits: stats.visits + 1\n          }\n        })\n        .commit();\n\n      // Get welcome message\n      const welcomeConfig = await kv.get(['welcome', 'config']);\n      const config = welcomeConfig.value || {\n        message: 'Welcome to the server!',\n        color: 'gold',\n        enabled: true\n      };\n\n      if (config.enabled) {\n        // Send different messages for new/returning players\n        if (stats.visits === 0) {\n          await api.tellraw(playerName, JSON.stringify([\n            {\n              text: config.message + '\\n',\n              color: config.color,\n              bold: true\n            },\n            {\n              text: \"This appears to be your first visit!\",\n              color: \"aqua\"\n            }\n          ]));\n        } else {\n          await api.tellraw(playerName, JSON.stringify([\n            {\n              text: config.message + '\\n',\n              color: config.color\n            },\n            {\n              text: `Welcome back! Visit #${stats.visits + 1}`,\n              color: \"yellow\"\n            }\n          ]));\n        }\n      }\n\n      log(`Player ${playerName} joined (Visit #${stats.visits + 1})`);\n\n    } catch (error) {\n      log(`Error in handlePlayerJoin: ${error.message}`);\n    }\n  }\n\n  // Command to view your join stats\n  @Command(['visits'])\n  @Description('View your visit statistics')\n  @Permission('player')\n  async viewVisits({ params, kv, api }: ScriptContext) {\n    const { sender } = params;\n\n    try {\n      const stats = await this.getStats(kv, sender);\n\n      await api.tellraw(sender, JSON.stringify([\n        { text: \"=== Visit Statistics ===\\n\", color: \"gold\", bold: true },\n        { text: `First Join: ${new Date(stats.firstJoin).toLocaleString()}\\n`, color: \"aqua\" },\n        { text: `Last Seen: ${new Date(stats.lastSeen).toLocaleString()}\\n`, color: \"yellow\" },\n        { text: `Total Visits: ${stats.visits}`, color: \"green\" }\n      ]));\n\n    } catch (error) {\n      await api.tellraw(sender, JSON.stringify({\n        text: `Error: ${error.message}`,\n        color: \"red\"\n      }));\n    }\n  }\n\n  // Admin command to configure welcome message\n  @Command(['welcome', 'config'])\n  @Description('Configure welcome message')\n  @Permission('operator')\n  @Argument([\n    { name: 'message', type: 'string', description: 'Welcome message' },\n    { name: 'color', type: 'string', description: 'Message color', optional: true },\n    { name: 'enabled', type: 'boolean', description: 'Enable/disable welcome', optional: true }\n  ])\n  async configureWelcome({ params, kv, api }: ScriptContext) {\n    const { sender, args } = params;\n\n    try {\n      // Get current config\n      const current = await kv.get(['welcome', 'config']);\n      const config = current.value || {\n        message: 'Welcome to the server!',\n        color: 'gold',\n        enabled: true\n      };\n\n      // Update config\n      await kv.set(['welcome', 'config'], {\n        message: args.message || config.message,\n        color: args.color || config.color,\n        enabled: args.enabled ?? config.enabled\n      });\n\n      await api.tellraw(sender, JSON.stringify({\n        text: \"Welcome message configuration updated!\",\n        color: \"green\"\n      }));\n\n    } catch (error) {\n      await api.tellraw(sender, JSON.stringify({\n        text: `Error: ${error.message}`,\n        color: \"red\"\n      }));\n    }\n  }\n\n  // Socket handler to get player statistics\n  @Socket('get_player_stats')\n  async getPlayerStats({ params, kv, auth }: ScriptContext) {\n    try {\n      // Verify authentication\n      if (!await auth.checkPermission('player')) {\n        return {\n          success: false,\n          error: 'Unauthorized'\n        };\n      }\n\n      const { playerName } = params;\n      const stats = await this.getStats(kv, playerName);\n\n      return {\n        success: true,\n        data: stats\n      };\n\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n}\n"])</script><script>self.__next_f.push([1,"9:Teded,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eWelcomeMessage\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  enabled\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePlayerStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  firstJoin\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  lastSeen\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  visits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eModule\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  name\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;WelcomeModule\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  version\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;1.0.0\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e})\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eclass\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eWelcomeModule\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Utility method to get player stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eprivate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003easync\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003egetStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDeno\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eKv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePromise\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePlayerStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e\u0026gt; {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.get\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.value \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e||\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      firstJoin\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.toISOString\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      lastSeen\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.toISOString\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      visits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e0\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Event handler for player joins\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eEvent\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player_joined\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003easync\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehandlePlayerJoin\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e log }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eScriptContext\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eplayerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e params;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003etry\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Get or create player stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Update stats atomically\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.atomic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.check\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ key\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e [\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e] })\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.mutate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          type\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;set\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          key\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e [\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          value\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e...\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            lastSeen\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.toISOString\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            visits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.visits \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e+\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        })\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.commit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Get welcome message\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ewelcomeConfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.get\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;config\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ewelcomeConfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.value \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e||\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Welcome to the server!\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;gold\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        enabled\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.enabled) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Send different messages for new/returning players\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.visits \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e===\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e0\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e+\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;\\n\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              bold\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;This appears to be your first visit!\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;aqua\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          ]));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e+\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;\\n\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.color\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Welcome back! Visit #\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.visits \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e+\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e1\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e              color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;yellow\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e            }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          ]));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003elog\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Player \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eplayerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e joined (Visit #\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.visits \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e+\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e1\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e)`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (error) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003elog\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Error in handlePlayerJoin: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Command to view your join stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;visits\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;View your visit statistics\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003easync\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eviewVisits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eScriptContext\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003esender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e params;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003etry\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e sender);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(sender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        { text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;=== Visit Statistics ===\\n\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;gold\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e bold\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        { text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`First Join: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.firstJoin)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.toLocaleString\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\\n`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;aqua\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        { text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Last Seen: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.lastSeen)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.toLocaleString\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\\n`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;yellow\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        { text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Total Visits: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.visits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;green\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      ]));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (error) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(sender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Error: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;red\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      }));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Admin command to configure welcome message\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;config\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Configure welcome message\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;operator\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eArgument\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    { name\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;message\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e type\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;string\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e description\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Welcome message\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    { name\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;color\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e type\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;string\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e description\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Message color\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e optional\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    { name\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;enabled\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e type\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;boolean\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e description\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Enable/disable welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e optional\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  ])\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003easync\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003econfigureWelcome\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eScriptContext\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003esender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e params;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003etry\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Get current config\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ecurrent\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.get\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;config\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ecurrent\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.value \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e||\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Welcome to the server!\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;gold\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        enabled\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Update config\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.set\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;config\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e||\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.color \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e||\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        enabled\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eargs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.enabled \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e??\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003econfig\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.enabled\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      });\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(sender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;Welcome message configuration updated!\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;green\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      }));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (error) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(sender\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`Error: \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e${\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e}\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e`\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;red\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      }));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Socket handler to get player statistics\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  @\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eSocket\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;get_player_stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003easync\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003egetPlayerStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e auth }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eScriptContext\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003etry\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Verify authentication\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e!await\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eauth\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.checkPermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          success\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003efalse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e          error\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Unauthorized\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eplayerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e params;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        success\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        data\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    } \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (error) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        success\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003efalse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e        error\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eerror\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.message\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"a:Tc3e,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Welcome message configuration\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eWelcomeMessage\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  message\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// The welcome message text\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Message color\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  enabled\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e; \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Whether welcomes are enabled\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Player statistics\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003einterface\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePlayerStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  firstJoin\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// First join timestamp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  lastSeen\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estring\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;   \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Last seen timestamp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  visits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003enumber\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;     \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Total visits\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"b:Td70,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eEvent\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player_joined\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003easync \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehandlePlayerJoin\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e log }: ScriptContext) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Update player stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Send welcome message\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eapi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.tellraw\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    text\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;Welcome to the server!\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    color\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;gold\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"d:T9b4,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;visits\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;View your visit statistics\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003easync \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eviewVisits\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api }: ScriptContext) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.sender);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Display stats to player\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"e:T714,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eCommand\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;welcome\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;config\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eDescription\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Configure welcome message\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ePermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;operator\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003easync \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003econfigureWelcome\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e api }: ScriptContext) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Update welcome configuration\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"f:Tf9d,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Get player stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.get\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e([\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Update stats atomically\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ekv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.atomic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.check\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ key\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e [\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e] })\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.mutate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    type\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;set\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    key\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e [\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e playerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    value\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e newStats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  })\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.commit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"10:T1012,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e@\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eSocket\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;get_player_stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003easync \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003egetPlayerStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({ params\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e auth }: ScriptContext) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Verify authentication\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e!await\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eauth\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.checkPermission\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { success\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003efalse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e error\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Unauthorized\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Return player stats\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003estats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eawait\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ethis\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.getStats\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(kv\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eparams\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.playerName);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e { success\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003etrue\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e data\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e stats };\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"11:T57e,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Get player stats via WebSocket\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003esocket\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.send\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.stringify\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eeventType\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;get_player_stats\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003edata\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eplayerName\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;player123\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}));\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"19:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cfc91e73f16c955c.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"m6CdOmFbkUcxvfzSbSfo9\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/examples/basic-module\",\"initialTree\":[\"\",{\"children\":[\"examples\",{\"children\":[\"basic-module\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"examples\",{\"children\":[\"basic-module\",{\"children\":[\"__PAGE__\",{},[\"$L4\",[\"$\",\"article\",null,{\"className\":\"flex h-full flex-col pb-10 pt-16\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-auto prose dark:prose-invert [html_:where(\u0026\u003e*)]:mx-auto [html_:where(\u0026\u003e*)]:max-w-2xl [html_:where(\u0026\u003e*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(\u0026\u003e*)]:lg:max-w-3xl\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Basic Module Example\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Let's create a basic welcome module that demonstrates core Enchanted features including events, commands, storage, and socket communication.\",\"className\":\"lead\"}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"complete-module\",\"children\":\"Complete Module\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Here's a basic welcome module that showcases common patterns:\"}],\"\\n\",[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"$7\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$9\"}],\"title\":\"WelcomeModule.ts\"}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"module-breakdown\",\"children\":\"Module Breakdown\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Let's examine each part of the module:\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Data Interfaces\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"First, we define our data structures:\"}],\"\\n\",[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"// Welcome message configuration\\ninterface WelcomeMessage {\\n  message: string;  // The welcome message text\\n  color: string;    // Message color\\n  enabled: boolean; // Whether welcomes are enabled\\n}\\n\\n// Player statistics\\ninterface PlayerStats {\\n  firstJoin: string;  // First join timestamp\\n  lastSeen: string;   // Last seen timestamp\\n  visits: number;     // Total visits\\n}\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$a\"}],\"title\":\"Interfaces\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Event Handling\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The module responds to player joins:\"}],\"\\n\",[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"@Event('player_joined')\\nasync handlePlayerJoin({ params, kv, api, log }: ScriptContext) {\\n  // Update player stats\\n  const stats = await this.getStats(kv, playerName);\\n\\n  // Send welcome message\\n  await api.tellraw(playerName, JSON.stringify({\\n    text: \\\"Welcome to the server!\\\",\\n    color: \\\"gold\\\"\\n  }));\\n}\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$b\"}],\"title\":\"Event Handler\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Commands\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We provide player and admin commands:\"}],\"\\n\",[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"@Command(['visits'])\\n@Description('View your visit statistics')\\n@Permission('player')\\nasync viewVisits({ params, kv, api }: ScriptContext) {\\nconst stats = await this.getStats(kv, params.sender);\\n// Display stats to player\\n}\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$d\"}],\"title\":\"Player Command\"}],[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"@Command(['welcome', 'config'])\\n@Description('Configure welcome message')\\n@Permission('operator')\\nasync configureWelcome({ params, kv, api }: ScriptContext) {\\n// Update welcome configuration\\n}\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$e\"}],\"title\":\"Admin Command\"}]]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Storage\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The module uses Deno KV for persistent storage:\"}],\"\\n\",[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"// Get player stats\\nconst stats = await kv.get(['player', playerName, 'stats']);\\n\\n// Update stats atomically\\nawait kv.atomic()\\n  .check({ key: ['player', playerName, 'stats'] })\\n  .mutate({\\n    type: 'set',\\n    key: ['player', playerName, 'stats'],\\n    value: newStats\\n  })\\n  .commit();\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$f\"}],\"title\":\"Storage Usage\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Socket Communication\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We provide a WebSocket endpoint for stats:\"}],\"\\n\",[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"@Socket('get_player_stats')\\nasync getPlayerStats({ params, kv, auth }: ScriptContext) {\\n  // Verify authentication\\n  if (!await auth.checkPermission('player')) {\\n    return { success: false, error: 'Unauthorized' };\\n  }\\n\\n  // Return player stats\\n  const stats = await this.getStats(kv, params.playerName);\\n  return { success: true, data: stats };\\n}\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$10\"}],\"title\":\"Socket Handler\"}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"usage-examples\",\"children\":\"Usage Examples\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Here's how to use the module:\"}],\"\\n\",[\"$\",\"$Lc\",null,{\"children\":[[\"$\",\"$L6\",null,{\"language\":\"bash\",\"code\":\"# View your visit stats\\n/visits\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# View your visit stats\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003e/visits\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}],\"title\":\"Player Commands\"}],[\"$\",\"$L6\",null,{\"language\":\"bash\",\"code\":\"# Configure welcome message\\n/welcome config \\\"Welcome to our server!\\\" yellow true\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# Configure welcome message\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003e/welcome\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string-expression)\\\"\u003e\u0026quot;Welcome to our server!\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eyellow\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-constant)\\\"\u003etrue\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}],\"title\":\"Admin Commands\"}],[\"$\",\"$L6\",null,{\"language\":\"typescript\",\"code\":\"// Get player stats via WebSocket\\nsocket.send(JSON.stringify({\\neventType: 'get_player_stats',\\ndata: {\\nplayerName: 'player123'\\n}\\n}));\\n\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"language-typescript\",\"children\":\"$11\"}],\"title\":\"WebSocket Usage\"}]]}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"key-concepts-demonstrated\",\"children\":\"Key Concepts Demonstrated\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This basic module shows several important patterns:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Decorator Usage\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"@Module\"}],\" for module definition\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"@Event\"}],\" for event handling\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"@Command\"}],\" for commands\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"@Permission\"}],\" for access control\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"@Socket\"}],\" for WebSocket communication\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Data Management\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Interface definitions\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Storage operations\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Atomic updates\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Error Handling\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Try-catch blocks\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Error responses\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Logging\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"4\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"User Communication\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Chat messages\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Command responses\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"WebSocket responses\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"5\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Authentication\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Permission checking\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Role-based access\"}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose\",\"children\":[\"$\",\"$L12\",null,{\"className\":\"inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition text-fuchsia-500 hover:text-fuchsia-600 dark:text-fuchsia-400 dark:hover:text-fuchsia-500\",\"href\":\"/examples/economy\",\"children\":[false,\"View Economy Module Example\",[\"$\",\"svg\",null,{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"aria-hidden\":\"true\",\"className\":\"mt-0.5 h-5 w-5 relative top-px -mr-1\",\"children\":[\"$\",\"path\",null,{\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9\"}]}]]}]}]]}],[\"$\",\"footer\",null,{\"className\":\"mx-auto mt-16 w-full max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"$L13\",null,{}]}]]}],null]]},[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"examples\",\"children\",\"basic-module\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L15\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"examples\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L15\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,\"$L16\",null]],\"initialHead\":[false,\"$L17\"],\"globalErrorComponent\":\"$18\",\"missingSlots\":\"$W19\"}]]\n"])</script><script>self.__next_f.push([1,"17:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Basic Module Example - Enchanted Server Documentation\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Learn how to create your first Enchanted module with this comprehensive example.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,"1a:I[4840,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"536\",\"static/chunks/536-654abe48faf78f66.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"185\",\"static/chunks/app/layout-4890250a0dcdb7a7.js\"],\"Providers\"]\n1b:I[8733,[\"250\",\"static/chunks/250-86e445a1e316c17d.js\",\"371\",\"static/chunks/371-9fd983c6f9223e2a.js\",\"536\",\"static/chunks/536-654abe48faf78f66.js\",\"841\",\"static/chunks/841-15946dcd10b62610.js\",\"185\",\"static/chunks/app/layout-4890250a0dcdb7a7.js\"],\""])</script><script>self.__next_f.push([1,"Layout\"]\n"])</script><script>self.__next_f.push([1,"16:[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"flex min-h-full bg-white antialiased dark:bg-zinc-900\",\"children\":[\"$\",\"$L1a\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"$L1b\",null,{\"allSections\":{\"/\":[{\"title\":\"What is Enchanted?\",\"id\":\"what-is-enchanted\"},{\"title\":\"Key Features\",\"id\":\"key-features\"},{\"title\":\"Getting Started\",\"id\":\"getting-started\"}],\"/architecture\":[{\"title\":\"System Overview\",\"id\":\"system-overview\"},{\"title\":\"Real-Time Communication\",\"id\":\"real-time-communication\"},{\"title\":\"Module System\",\"id\":\"module-system\"},{\"title\":\"State Management\",\"id\":\"state-management\"},{\"title\":\"Server Components\",\"id\":\"server-components\"},{\"title\":\"Fabric Plugin Integration\",\"id\":\"fabric-plugin-integration\"},{\"title\":\"Security Model\",\"id\":\"security-model\"},{\"title\":\"Data Flow\",\"id\":\"data-flow\"},{\"title\":\"Performance Considerations\",\"id\":\"performance-considerations\"},{\"title\":\"Development Workflow\",\"id\":\"development-workflow\"}],\"/authentication\":[{\"title\":\"Basic Auth Module\",\"id\":\"basic-auth-module\"},{\"title\":\"Client Usage\",\"id\":\"client-usage\"},{\"title\":\"Permission Levels\",\"id\":\"permission-levels\"},{\"title\":\"Token Structure\",\"id\":\"token-structure\"},{\"title\":\"Secure Storage\",\"id\":\"secure-storage\"},{\"title\":\"Security Best Practices\",\"id\":\"security-best-practices\"},{\"title\":\"Enhanced Implementation\",\"id\":\"enhanced-implementation\"},{\"title\":\"What's next?\",\"id\":\"whats-next\"}],\"/commands\":[{\"title\":\"Command Basics\",\"id\":\"command-basics\"},{\"title\":\"Command Arguments\",\"id\":\"command-arguments\"},{\"title\":\"Subcommands\",\"id\":\"subcommands\"},{\"title\":\"Command Responses\",\"id\":\"command-responses\"},{\"title\":\"Command Permissions\",\"id\":\"command-permissions\"},{\"title\":\"Command Error Handling\",\"id\":\"command-error-handling\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/decorators\":[{\"title\":\"Module Decorator\",\"id\":\"module-decorator\"},{\"title\":\"Event Decorator\",\"id\":\"event-decorator\"},{\"title\":\"Command Decorator\",\"id\":\"command-decorator\"},{\"title\":\"Description Decorator\",\"id\":\"description-decorator\"},{\"title\":\"Permission Decorator\",\"id\":\"permission-decorator\"},{\"title\":\"Argument Decorator\",\"id\":\"argument-decorator\"},{\"title\":\"Socket Decorator\",\"id\":\"socket-decorator\"},{\"title\":\"Decorator Combinations\",\"id\":\"decorator-combinations\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"},{\"title\":\"Argument Types\",\"id\":\"argument-types\"},{\"title\":\"Permission Levels\",\"id\":\"permission-levels\"}],\"/errors\":[{\"title\":\"Core Concepts\",\"id\":\"core-concepts\"},{\"title\":\"Command Error Handling\",\"id\":\"command-error-handling\"},{\"title\":\"Socket Error Handling\",\"id\":\"socket-error-handling\"},{\"title\":\"Event Error Handling\",\"id\":\"event-error-handling\"},{\"title\":\"Storage Error Handling\",\"id\":\"storage-error-handling\"},{\"title\":\"Error Types\",\"id\":\"error-types\"},{\"title\":\"Best Practices\",\"id\":\"best-practices\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/events\":[{\"title\":\"Event Basics\",\"id\":\"event-basics\"},{\"title\":\"Player Events\",\"id\":\"player-events\"},{\"title\":\"Block Events\",\"id\":\"block-events\"},{\"title\":\"Combat Events\",\"id\":\"combat-events\"},{\"title\":\"Container Events\",\"id\":\"container-events\"},{\"title\":\"Server Events\",\"id\":\"server-events\"},{\"title\":\"Event Handler Patterns\",\"id\":\"event-handler-patterns\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/installation\":[{\"title\":\"Prerequisites\",\"id\":\"prerequisites\"},{\"title\":\"Environment Setup\",\"id\":\"environment-setup\"},{\"title\":\"Docker Compose Configuration\",\"id\":\"docker-compose-configuration\"},{\"title\":\"Project Configuration\",\"id\":\"project-configuration\"},{\"title\":\"Project Structure\",\"id\":\"project-structure\"},{\"title\":\"Starting the Server\",\"id\":\"starting-the-server\"},{\"title\":\"Verifying Your Installation\",\"id\":\"verifying-your-installation\"},{\"title\":\"Development Commands\",\"id\":\"development-commands\"},{\"title\":\"Troubleshooting Common Issues\",\"id\":\"troubleshooting-common-issues\"}],\"/development\":[{\"title\":\"Development Environment\",\"id\":\"development-environment\"},{\"title\":\"Project Structure\",\"id\":\"project-structure\"},{\"title\":\"Module Development\",\"id\":\"module-development\"},{\"title\":\"Development Server\",\"id\":\"development-server\"},{\"title\":\"Testing Modules\",\"id\":\"testing-modules\"},{\"title\":\"Development Tools\",\"id\":\"development-tools\"},{\"title\":\"Debugging\",\"id\":\"debugging\"},{\"title\":\"Development Configuration\",\"id\":\"development-configuration\"},{\"title\":\"Working with Docker\",\"id\":\"working-with-docker\"},{\"title\":\"Module Hot Reloading\",\"id\":\"module-hot-reloading\"},{\"title\":\"Common Development Tasks\",\"id\":\"common-development-tasks\"},{\"title\":\"Best Practices\",\"id\":\"best-practices\"},{\"title\":\"Module Development Lifecycle\",\"id\":\"module-development-lifecycle\"},{\"title\":\"Example Development Module\",\"id\":\"example-development-module\"}],\"/minecraft-api\":[{\"title\":\"Basic Commands\",\"id\":\"basic-commands\"},{\"title\":\"Player Management\",\"id\":\"player-management\"},{\"title\":\"World Manipulation\",\"id\":\"world-manipulation\"},{\"title\":\"Scoreboard Management\",\"id\":\"scoreboard-management\"},{\"title\":\"Chat \u0026 Messages\",\"id\":\"chat-and-messages\"},{\"title\":\"Player Data\",\"id\":\"player-data\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/modules\":[{\"title\":\"Basic Module Structure\",\"id\":\"basic-module-structure\"},{\"title\":\"Module Context\",\"id\":\"module-context\"},{\"title\":\"Event Handling\",\"id\":\"event-handling\"},{\"title\":\"Command Registration\",\"id\":\"command-registration\"},{\"title\":\"Socket Communication\",\"id\":\"socket-communication\"},{\"title\":\"State Management\",\"id\":\"state-management\"},{\"title\":\"Module Communication\",\"id\":\"module-communication\"},{\"title\":\"Module Lifecycle\",\"id\":\"module-lifecycle\"},{\"title\":\"Complex Module Example\",\"id\":\"complex-module-example\"}],\"/permissions\":[{\"title\":\"Permission Levels\",\"id\":\"permission-levels\"},{\"title\":\"Using Permissions\",\"id\":\"using-permissions\"},{\"title\":\"Permission Context\",\"id\":\"permission-context\"},{\"title\":\"Permission Checks\",\"id\":\"permission-checks\"},{\"title\":\"Command Permissions\",\"id\":\"command-permissions\"},{\"title\":\"Socket Handler Permissions\",\"id\":\"socket-handler-permissions\"},{\"title\":\"Error Handling\",\"id\":\"error-handling\"},{\"title\":\"Best Practices\",\"id\":\"best-practices\"},{\"title\":\"Example Module\",\"id\":\"example-module\"}],\"/script-context\":[{\"title\":\"Context Structure\",\"id\":\"context-structure\"},{\"title\":\"Parameters\",\"id\":\"parameters\"},{\"title\":\"Storage Access\",\"id\":\"storage-access\"},{\"title\":\"Authentication\",\"id\":\"authentication\"},{\"title\":\"Player Communication\",\"id\":\"player-communication\"},{\"title\":\"Player Management\",\"id\":\"player-management\"},{\"title\":\"Logging\",\"id\":\"logging\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/quickstart\":[{\"title\":\"Choose your setup\",\"id\":\"choose-your-setup\"},{\"title\":\"Creating your first module\",\"id\":\"creating-your-first-module\"},{\"title\":\"What's next?\",\"id\":\"whats-next\"}],\"/storage\":[{\"title\":\"Basic Operations\",\"id\":\"basic-operations\"},{\"title\":\"Key Structure\",\"id\":\"key-structure\"},{\"title\":\"Atomic Operations\",\"id\":\"atomic-operations\"},{\"title\":\"Data Models\",\"id\":\"data-models\"},{\"title\":\"Data Management Patterns\",\"id\":\"data-management-patterns\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/types\":[{\"title\":\"Core Types\",\"id\":\"core-types\"},{\"title\":\"Authentication Types\",\"id\":\"authentication-types\"},{\"title\":\"Decorator Types\",\"id\":\"decorator-types\"},{\"title\":\"API Types\",\"id\":\"api-types\"},{\"title\":\"Event Types\",\"id\":\"event-types\"},{\"title\":\"Storage Types\",\"id\":\"storage-types\"},{\"title\":\"WebSocket Types\",\"id\":\"web-socket-types\"},{\"title\":\"Utility Types\",\"id\":\"utility-types\"},{\"title\":\"Type Usage Example\",\"id\":\"type-usage-example\"}],\"/utilities\":[{\"title\":\"Rate Limiting\",\"id\":\"rate-limiting\"},{\"title\":\"Message Formatting\",\"id\":\"message-formatting\"},{\"title\":\"Time Utilities\",\"id\":\"time-utilities\"},{\"title\":\"Data Validation\",\"id\":\"data-validation\"},{\"title\":\"Promise Utilities\",\"id\":\"promise-utilities\"},{\"title\":\"Collection Utilities\",\"id\":\"collection-utilities\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/websockets\":[{\"title\":\"Socket Basics\",\"id\":\"socket-basics\"},{\"title\":\"Message Structure\",\"id\":\"message-structure\"},{\"title\":\"Authentication\",\"id\":\"authentication\"},{\"title\":\"Real-time Updates\",\"id\":\"real-time-updates\"},{\"title\":\"Client Implementation\",\"id\":\"client-implementation\"},{\"title\":\"Socket State Management\",\"id\":\"socket-state-management\"},{\"title\":\"Complete Example\",\"id\":\"complete-example\"}],\"/examples/basic-module\":[{\"title\":\"Complete Module\",\"id\":\"complete-module\"},{\"title\":\"Module Breakdown\",\"id\":\"module-breakdown\"},{\"title\":\"Usage Examples\",\"id\":\"usage-examples\"},{\"title\":\"Key Concepts Demonstrated\",\"id\":\"key-concepts-demonstrated\"}],\"/examples/economy\":[{\"title\":\"Complete Module\",\"id\":\"complete-module\"},{\"title\":\"Key Features\",\"id\":\"key-features\"},{\"title\":\"Usage Examples\",\"id\":\"usage-examples\"},{\"title\":\"Key Concepts\",\"id\":\"key-concepts\"},{\"title\":\"Common Patterns\",\"id\":\"common-patterns\"},{\"title\":\"Extension Ideas\",\"id\":\"extension-ideas\"}],\"/examples/chat\":[{\"title\":\"Complete Module\",\"id\":\"complete-module\"},{\"title\":\"WebSocket Integration\",\"id\":\"web-socket-integration\"},{\"title\":\"Usage Examples\",\"id\":\"usage-examples\"},{\"title\":\"Key Features\",\"id\":\"key-features\"}],\"/examples/player-stats\":[{\"title\":\"Complete Module\",\"id\":\"complete-module\"},{\"title\":\"Stats Tracking\",\"id\":\"stats-tracking\"},{\"title\":\"Usage\",\"id\":\"usage\"},{\"title\":\"Event Handling\",\"id\":\"event-handling\"},{\"title\":\"Web Integration\",\"id\":\"web-integration\"},{\"title\":\"Key Features\",\"id\":\"key-features\"}]},\"children\":[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L15\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 -z-10 mx-0 max-w-none overflow-hidden\",\"children\":[\"$\",\"div\",null,{\"className\":\"absolute left-1/2 top-0 ml-[-38rem] h-[25rem] w-[81.25rem] dark:[mask-image:linear-gradient(white,transparent)]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-gradient-to-r from-[#fff] to-[#fff] opacity-40 [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:from-[#000]/30 dark:to-[#000]/30 dark:opacity-100\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"className\":\"absolute inset-x-0 inset-y-[-50%] h-[200%] w-full skew-y-[-18deg] fill-black/40 stroke-black/50 mix-blend-overlay dark:fill-white/2.5 dark:stroke-white/5\",\"children\":[[\"$\",\"defs\",null,{\"children\":[\"$\",\"pattern\",null,{\"id\":\":S1:\",\"width\":72,\"height\":56,\"patternUnits\":\"userSpaceOnUse\",\"x\":-12,\"y\":4,\"children\":[\"$\",\"path\",null,{\"d\":\"M.5 56V.5H72\",\"fill\":\"none\"}]}]}],[\"$\",\"rect\",null,{\"width\":\"100%\",\"height\":\"100%\",\"strokeWidth\":0,\"fill\":\"url(#:S1:)\"}],[\"$\",\"svg\",null,{\"x\":-12,\"y\":4,\"className\":\"overflow-visible\",\"children\":[[\"$\",\"rect\",\"4-3\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":288,\"y\":168}],[\"$\",\"rect\",\"2-1\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":144,\"y\":56}],[\"$\",\"rect\",\"7-3\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":504,\"y\":168}],[\"$\",\"rect\",\"10-6\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":720,\"y\":336}]]}]]}]}],[\"$\",\"svg\",null,{\"viewBox\":\"0 0 1113 440\",\"aria-hidden\":\"true\",\"className\":\"absolute left-1/2 top-0 ml-[-19rem] w-[69.5625rem] fill-white blur-[26px] dark:hidden\",\"children\":[\"$\",\"path\",null,{\"d\":\"M.016 439.5s-9.5-300 434-300S882.516 20 882.516 20V0h230.004v439.5H.016Z\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"mx-auto flex h-full max-w-xl flex-col items-center justify-center py-16 text-center\",\"children\":[[\"$\",\"p\",null,{\"className\":\" text-5xl font-semibold text-zinc-900 dark:text-white\",\"children\":\"404\"}],[\"$\",\"h1\",null,{\"className\":\"mt-2 text-2xl font-bold text-zinc-900 dark:text-white\",\"children\":\"Page not found\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-base text-zinc-600 dark:text-zinc-400\",\"children\":\"Sorry, we couldn’t find the page you’re looking for.\"}],[\"$\",\"$L12\",null,{\"className\":\"inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-sm bg-zinc-900 py-1 px-3 text-white hover:bg-zinc-700 dark:bg-fuchsia-400/10 dark:text-fuchsia-400 dark:ring-1 dark:ring-inset dark:ring-fuchsia-400/20 dark:hover:bg-fuchsia-400/10 dark:hover:text-fuchsia-300 dark:hover:ring-fuchsia-300 mt-8\",\"href\":\"/\",\"children\":[false,\"Back to docs\",[\"$\",\"svg\",null,{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"aria-hidden\":\"true\",\"className\":\"mt-0.5 h-5 w-5 -mr-1\",\"children\":[\"$\",\"path\",null,{\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9\"}]}]]}]]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]}]}]}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>